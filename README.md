# Retro Lumen

ブラウン管の余韻とレトロフューチャーな質感を再現する Web アプリです。キャプチャした画面や映像を GLSL ベースの CRT シェーダーに通し、アナログモニタの揺らぎや走査線のニュアンスをブラウザ上で再現します。キャプチャ開始前は VS Code 風のスクリーンショットを背景にしたエモーショナルな待機画面となり、開始後は従来の操作レイアウトにフェードインします。

## 主な機能

- **ディスプレイキャプチャ**: `navigator.mediaDevices.getDisplayMedia()` を使った 60fps 画面キャプチャ。
- **リアルタイムシェーダー適用**: `src/shaderGlass.js` を中心に GPU シェーダーを構築し、パラメータ付きプリセットを適用。
- **カーソルエミュレーション**: `src/cursorEmulator.js` でキャプチャ映像に合わせてカーソル位置を描画。
- **待機状態の演出**: `pre-capture` クラス切り替えで画面中央の「画面キャプチャ」ボタンと背景演出を制御。
- **モジュール化された UI/ロジック**: `src` 以下にキャプチャ管理、シェーダー、UI ウィンドウなどの責務ごとのモジュールを配置。

## セットアップと起動方法

1. リポジトリを任意のディレクトリに配置します。
2. 依存ライブラリは不要です。モダンブラウザ（Chrome/Edge など）で `index.html` を開くだけで実行できます。
3. 初回表示では中央の「画面キャプチャ」ボタンを押してディスプレイを選択してください。キャプチャ停止後は自動で待機画面へ戻ります。

> **補足**: HTTPS または `localhost` で開かないとブラウザが画面キャプチャ API を拒否する場合があります。必要に応じて簡易サーバー（例: `npx serve`）を使ってください。

## ディレクトリ構成

```
web/
├─ index.html            … 画面レイアウトとスタイル、待機画面演出
├─ assets/
│  └─ pre-capture-bg.png … 待機時の背景画像
└─ src/
   ├─ bootstrap.js       … DOM 初期化と ShaderGlassApp の起動
   ├─ shaderGlassApp.js  … アプリ全体のオーケストレーション
   ├─ captureManager.js  … ディスプレイキャプチャ管理
   ├─ shaderGlass.js     … シェーダーパイプライン
   ├─ cursorEmulator.js  … カーソル描画
   └─ ...                … その他ウィンドウ/プリセット関連モジュール
```

